(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{wWZX:function(e,t,o){"use strict";o.r(t),o.d(t,"PerfilModule",(function(){return X}));var r=o("ofXK"),i=o("tyNb"),s=o("PQaN"),n=o("fXoL"),a=o("/9La"),c=o("0IaG"),l=o("6Hz5"),b=o("wRPl"),d=o("Wp6s"),f=o("3Pt+"),m=o("kmnG"),u=o("qFsG"),g=o("d3UM"),p=o("FKr1"),h=o("bTqV");function R(e,t){1&e&&(n.Rb(0,"p"),n.sc(1,"Datos guardados correctamente"),n.Qb())}function Q(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function v(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function M(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function P(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function F(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function C(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function y(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function w(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function A(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function I(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function D(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function _(e,t){if(1&e){const e=n.Sb();n.Rb(0,"button",33),n.Yb("click",(function(){return n.ic(e),n.ac(3).onSave()})),n.sc(1," Guardar "),n.Qb()}if(2&e){const e=n.ac(3);n.fc("mat-dialog-close",!0)("disabled",e.userForm.baseForm.valid)}}function O(e,t){if(1&e){const e=n.Sb();n.Rb(0,"form",4),n.Rb(1,"div"),n.Rb(2,"label"),n.sc(3),n.Qb(),n.Qb(),n.Rb(4,"div"),n.Rb(5,"mat-form-field",5),n.Mb(6,"input",6),n.qc(7,Q,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(8,"div"),n.Rb(9,"mat-form-field",5),n.Mb(10,"input",7),n.qc(11,v,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(12,"div"),n.Rb(13,"mat-form-field",5),n.Mb(14,"input",8),n.qc(15,M,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(16,"div"),n.Rb(17,"mat-form-field",5),n.Mb(18,"input",9),n.qc(19,P,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(20,"div"),n.Rb(21,"mat-form-field",5),n.Mb(22,"input",10),n.qc(23,F,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(24,"div"),n.Rb(25,"mat-form-field",5),n.Mb(26,"input",11),n.qc(27,C,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(28,"div"),n.Rb(29,"mat-form-field",5),n.Mb(30,"input",12),n.qc(31,y,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(32,"div"),n.Rb(33,"mat-form-field",5),n.Mb(34,"input",13),n.qc(35,w,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(36,"div"),n.Rb(37,"mat-form-field",5),n.Rb(38,"mat-label"),n.sc(39,"N\xfamero de hijos "),n.Qb(),n.Rb(40,"mat-select",14),n.Rb(41,"mat-option",15),n.sc(42,"1"),n.Qb(),n.Rb(43,"mat-option",16),n.sc(44,"2"),n.Qb(),n.Rb(45,"mat-option",17),n.sc(46,"3"),n.Qb(),n.Rb(47,"mat-option",18),n.sc(48,"4"),n.Qb(),n.Rb(49,"mat-option",19),n.sc(50,"5"),n.Qb(),n.Rb(51,"mat-option",20),n.sc(52,"6"),n.Qb(),n.Rb(53,"mat-option",21),n.sc(54,"7"),n.Qb(),n.Rb(55,"mat-option",22),n.sc(56,"8"),n.Qb(),n.Rb(57,"mat-option",23),n.sc(58,"9"),n.Qb(),n.Rb(59,"mat-option",24),n.sc(60,"10"),n.Qb(),n.Rb(61,"mat-option",25),n.sc(62,"11"),n.Qb(),n.Rb(63,"mat-option",26),n.sc(64,"12"),n.Qb(),n.Qb(),n.qc(65,A,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(66,"div"),n.Rb(67,"mat-form-field",5),n.Rb(68,"mat-label"),n.sc(69,"Sexo "),n.Qb(),n.Rb(70,"mat-select",27),n.Rb(71,"mat-option",28),n.sc(72,"Hombre"),n.Qb(),n.Rb(73,"mat-option",29),n.sc(74,"Mujer"),n.Qb(),n.Qb(),n.qc(75,I,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(76,"div"),n.Rb(77,"mat-form-field",5),n.Mb(78,"input",30),n.qc(79,D,2,1,"mat-error",1),n.Qb(),n.Qb(),n.qc(80,_,2,2,"button",31),n.Rb(81,"button",32),n.Yb("click",(function(){return n.ic(e),n.ac(2).enableForm()})),n.sc(82),n.Qb(),n.Qb()}if(2&e){const e=n.ac(2);n.fc("formGroup",e.userForm.baseForm),n.Ab(3),n.uc("Usuario: ",e.userData.username,""),n.Ab(3),n.fc("disabled",!0)("readonly",e.isDisabled),n.Ab(1),n.fc("ngIf",e.checkField("name")),n.Ab(3),n.fc("readonly",e.isDisabled),n.Ab(1),n.fc("ngIf",e.checkField("apellido1")),n.Ab(3),n.fc("readonly",e.isDisabled),n.Ab(1),n.fc("ngIf",e.checkField("telefono")),n.Ab(3),n.fc("readonly",e.isDisabled),n.Ab(1),n.fc("ngIf",e.checkField("apellido1")),n.Ab(3),n.fc("value",e.userData.apellido2)("readonly",e.isDisabled),n.Ab(1),n.fc("ngIf",e.checkField("apellido2")),n.Ab(3),n.fc("readonly",e.isDisabled),n.Ab(1),n.fc("ngIf",e.checkField("municipio")),n.Ab(3),n.fc("readonly",e.isDisabled),n.Ab(1),n.fc("ngIf",e.checkField("provincia")),n.Ab(3),n.fc("readonly",e.isDisabled),n.Ab(1),n.fc("ngIf",e.checkField("codigo_postal")),n.Ab(5),n.fc("readonly",e.isDisabled),n.Ab(25),n.fc("ngIf",e.checkField("numero_hijos")),n.Ab(5),n.fc("readonly",e.isDisabled),n.Ab(5),n.fc("ngIf",e.checkField("sexo")),n.Ab(3),n.fc("readonly",e.isDisabled),n.Ab(1),n.fc("ngIf",e.checkField("ingresos_mensuales")),n.Ab(1),n.fc("ngIf",!e.isDisabled),n.Ab(1),n.fc("mat-dialog-close",!0),n.Ab(1),n.uc(" ",e.modifyTxt," ")}}function k(e,t){if(1&e&&(n.Rb(0,"div",2),n.Rb(1,"mat-card"),n.Rb(2,"mat-card-content"),n.Rb(3,"h2"),n.sc(4),n.Qb(),n.qc(5,R,2,0,"p",1),n.qc(6,O,83,29,"form",3),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.ac();n.Ab(4),n.uc(" ",e.titleTxt," "),n.Ab(1),n.fc("ngIf",e.isSaved),n.Ab(1),n.fc("ngIf",e.dataLoaded)}}function x(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function q(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function N(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac(3);n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function S(e,t){if(1&e){const e=n.Sb();n.Rb(0,"form",4),n.Rb(1,"div"),n.Rb(2,"label"),n.sc(3,"Contrase\xf1a"),n.Qb(),n.Rb(4,"mat-form-field",5),n.Mb(5,"input",34),n.qc(6,x,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(7,"div"),n.Rb(8,"label"),n.sc(9,"Nueva Contrase\xf1a"),n.Qb(),n.Rb(10,"mat-form-field",5),n.Mb(11,"input",35),n.qc(12,q,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(13,"div"),n.Rb(14,"label"),n.sc(15,"Confirmar Contrase\xf1a"),n.Qb(),n.Rb(16,"mat-form-field",5),n.Mb(17,"input",36),n.qc(18,N,2,1,"mat-error",1),n.Qb(),n.Qb(),n.Rb(19,"button",32),n.Yb("click",(function(){return n.ic(e),n.ac(2).savePassword()})),n.sc(20," Cambiar Contrase\xf1a "),n.Qb(),n.Qb()}if(2&e){const e=n.ac(2);n.fc("formGroup",e.userForm.passwordForm),n.Ab(6),n.fc("ngIf",e.checkFieldPassword("password")),n.Ab(6),n.fc("ngIf",e.checkFieldPassword("newPassword")),n.Ab(6),n.fc("ngIf",e.checkFieldPassword("newPassword")),n.Ab(1),n.fc("mat-dialog-close",!0)}}function L(e,t){if(1&e&&(n.Rb(0,"div",2),n.Rb(1,"mat-card"),n.Rb(2,"mat-card-content"),n.Rb(3,"h2"),n.sc(4,"Cambiar contrase\xf1a"),n.Qb(),n.qc(5,S,21,5,"form",3),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.ac();n.Ab(5),n.fc("ngIf",e.dataLoaded)}}function U(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div",2),n.Rb(1,"mat-card"),n.Rb(2,"mat-card-content"),n.Rb(3,"h2"),n.sc(4,"Invitar amigos"),n.Qb(),n.Rb(5,"form",37),n.Yb("ngSubmit",(function(){return n.ic(e),n.ac().invitarAmigos()})),n.Rb(6,"div",38),n.Rb(7,"label",39),n.sc(8,"Tus comentarios:"),n.Qb(),n.Rb(9,"input",40),n.Yb("ngModelChange",(function(t){return n.ic(e),n.ac().coments=t})),n.Qb(),n.Qb(),n.Rb(10,"div",38),n.Rb(11,"label",41),n.sc(12,"Los emails de tus amigos:"),n.Qb(),n.Rb(13,"input",42),n.Yb("ngModelChange",(function(t){return n.ic(e),n.ac().friendIds[0]=t})),n.Qb(),n.Rb(14,"input",43),n.Yb("ngModelChange",(function(t){return n.ic(e),n.ac().friendIds[1]=t})),n.Qb(),n.Rb(15,"input",44),n.Yb("ngModelChange",(function(t){return n.ic(e),n.ac().friendIds[2]=t})),n.Qb(),n.Rb(16,"input",45),n.Yb("ngModelChange",(function(t){return n.ic(e),n.ac().friendIds[3]=t})),n.Qb(),n.Rb(17,"input",46),n.Yb("ngModelChange",(function(t){return n.ic(e),n.ac().friendIds[4]=t})),n.Qb(),n.Qb(),n.Rb(18,"button",47),n.sc(19,"Invitar"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()}if(2&e){const e=n.ac();n.Ab(9),n.fc("ngModel",e.coments),n.Ab(4),n.fc("ngModel",e.friendIds[0]),n.Ab(1),n.fc("ngModel",e.friendIds[1]),n.Ab(1),n.fc("ngModel",e.friendIds[2]),n.Ab(1),n.fc("ngModel",e.friendIds[3]),n.Ab(1),n.fc("ngModel",e.friendIds[4]),n.Ab(1),n.fc("mat-dialog-close",!0)}}function T(e,t){if(1&e&&(n.Rb(0,"tr"),n.Rb(1,"td"),n.sc(2),n.Qb(),n.Rb(3,"td"),n.sc(4),n.Qb(),n.Rb(5,"td"),n.sc(6),n.Qb(),n.Rb(7,"td"),n.sc(8),n.Qb(),n.Qb()),2&e){const e=t.$implicit;n.Ab(2),n.tc(e.IdPago),n.Ab(2),n.tc(e.FechaPago),n.Ab(2),n.tc(e.NombreEncuesta),n.Ab(2),n.tc(e.Dinero)}}function E(e,t){if(1&e&&(n.Rb(0,"div"),n.Rb(1,"h2"),n.sc(2,"Mis recompensas"),n.Qb(),n.Rb(3,"table",48),n.Rb(4,"thead"),n.Rb(5,"tr"),n.Rb(6,"th"),n.sc(7,"#"),n.Qb(),n.Rb(8,"th"),n.sc(9,"Fecha de pago"),n.Qb(),n.Rb(10,"th"),n.sc(11,"Nombre Encuesta"),n.Qb(),n.Rb(12,"th"),n.sc(13,"Incentivo pagado"),n.Qb(),n.Qb(),n.Qb(),n.Rb(14,"tbody"),n.qc(15,T,9,4,"tr",49),n.Rb(16,"tr",50),n.Mb(17,"td"),n.Mb(18,"td"),n.Mb(19,"td"),n.Rb(20,"td"),n.sc(21),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e){const e=n.ac();n.Ab(15),n.fc("ngForOf",e.perfil.rewards),n.Ab(6),n.tc(e.perfil.totalRewards)}}function j(e,t){if(1&e){const e=n.Sb();n.Rb(0,"div"),n.Rb(1,"input",51),n.Yb("change",(function(t){return n.ic(e),n.ac().onFileSelected(t)})),n.Qb(),n.Rb(2,"button",52),n.Yb("click",(function(){return n.ic(e),n.ac().onUpload()})),n.sc(3,"Subir archivo"),n.Qb(),n.Rb(4,"button",52),n.Yb("click",(function(){return n.ic(e),n.ac().onDownload()})),n.sc(5,"descargar archivo"),n.Qb(),n.Qb()}}function Y(e,t){if(1&e&&(n.Rb(0,"mat-error"),n.sc(1),n.Qb()),2&e){const e=n.ac();n.Ab(1),n.uc(" ",e.userForm.errorMessage," ")}}function G(e,t){if(1&e&&(n.Rb(0,"tr"),n.Rb(1,"td"),n.sc(2),n.Qb(),n.Rb(3,"td"),n.sc(4),n.Qb(),n.Rb(5,"td"),n.sc(6),n.Qb(),n.Rb(7,"td"),n.sc(8),n.Qb(),n.Qb()),2&e){const e=t.$implicit;n.Ab(2),n.tc(e.IdPago),n.Ab(2),n.tc(e.FechaPago),n.Ab(2),n.tc(e.NombreEncuesta),n.Ab(2),n.tc(e.Dinero)}}const V=[{path:"",component:(()=>{class e{constructor(e,t,o,r){this.userForm=e,this.dialog=t,this.userSvc=o,this.perfil=r,this.dataLoaded=!1,this.isDisabled=!0,this.isPerfil=!0,this.isChangePass=!1,this.isInviteFriends=!1,this.isReward=!1,this.isPay=!1,this.modifyTxt="Editar",this.overlayTitle="Usuario modificado",this.overlayDescription="Sus datos se han modificado correctamente",this.titleTxt="Mi Perfil",this.friendIds=[],this.selectedFile=null}ngOnInit(){console.log("onInit"),this.userSvc.getActUser().subscribe(e=>{console.log("users",e),this.userData=e,this.dataLoaded=!0,this.isDisabled=!0,this.perfil.userName=e.username,this.setFormData()}),this.perfil.showRewards&&(this.perfil.getPaymentList(),this.perfil.isInviteFriends=!1,this.perfil.isPerfil=!1,this.perfil.isChangePass=!1,this.perfil.isReward=!0,this.perfil.isPay=!1)}setFormData(){this.userForm.baseForm.patchValue({name:this.userData.name,apellido1:this.userData.apellido1,apellido2:this.userData.apellido2,apellidos:this.userData.apellidos,telefono:this.userData.telefono,municipio:this.userData.municipio,provincia:this.userData.provincia,codigo_postal:this.userData.codigo_postal,numero_hijos:this.userData.numero_hijos,sexo:this.userData.sexo,ingresos_mensuales:this.userData.ingresos_mensuales})}checkField(e){return this.userForm.isValidField(e)}checkFieldPassword(e){return this.userForm.isValidPassword(e)}onSave(){const e=this.userForm.baseForm.value;this.userSvc.updateActUser(e).subscribe(t=>{console.log("Update",e),this.onOpenModal(),this.modifyTxt="Editar",this.isDisabled=!0})}savePassword(){const e=this.userForm.passwordForm.value;console.log("formValue",e),e.newPassword!==e.confirmNewPassword?alert("la contrase\xf1a y la confirmaci\xf3n no coinciden"):this.userSvc.updatePassword(e).subscribe(t=>{console.log("Update",e)})}invitarAmigos(){const e={coments:this.coments,friendIds:this.friendIds.slice(0,5)};console.log("body de friends invitations",e),this.userSvc.inviteFriends(e).subscribe(t=>{console.log("Update",e),console.log("res",t)},e=>{console.log("error",e)})}enableForm(){console.log("isDisabled",this.isDisabled),this.isDisabled=!this.isDisabled,console.log("isDisabled despues",this.isDisabled),this.isDisabled?(this.modifyTxt="Editar",this.setFormData()):this.modifyTxt="Cancelar"}deleteUser(){this.userSvc.deleteUser().subscribe(e=>{console.log("delete",e)})}onOpenModal(){this.dialog.open(s.a,{height:"400px",width:"600px",hasBackdrop:!0,data:{title:this.overlayTitle,irPerfil:"Darse de baja",method:"borrar",description:this.overlayDescription}}).afterClosed().subscribe(e=>{console.log("Dialog result: "+e,typeof e),"borrar"==e&&this.deleteUser()})}showChangePass(){this.perfil.isPerfil=!1,this.perfil.isChangePass=!0,this.perfil.isInviteFriends=!1,this.perfil.isReward=!1,this.perfil.isPay=!1,this.titleTxt="Cambiar contrase\xf1a"}showPerfil(){this.perfil.isPerfil=!0,this.perfil.isChangePass=!1,this.perfil.isInviteFriends=!1,this.perfil.isReward=!1,this.perfil.isPay=!1,this.titleTxt="Mi perfil"}showInvitations(){this.perfil.isInviteFriends=!0,this.perfil.isPerfil=!1,this.perfil.isChangePass=!1,this.perfil.isReward=!1,this.perfil.isPay=!1,this.titleTxt="Invitar a amigos"}showRewards(){this.perfil.getPaymentList(),this.perfil.isInviteFriends=!1,this.perfil.isPerfil=!1,this.perfil.isChangePass=!1,this.perfil.isReward=!0,this.perfil.isPay=!1,this.titleTxt="Mis recompensas"}showPays(){this.perfil.getPaymentList(),this.perfil.isInviteFriends=!1,this.perfil.isPerfil=!1,this.perfil.isChangePass=!1,this.perfil.isReward=!1,this.perfil.isPay=!0,this.titleTxt="Actualizar pagos"}onFileSelected(e){this.selectedFile=e.target.files[0]}onUpload(){if(this.selectedFile){const e=new FormData;e.append("file",this.selectedFile,this.selectedFile.name),console.log("this.selectedFile",this.selectedFile),console.log("formData",e.getAll("file")),this.userSvc.uploadFile(e).subscribe(t=>{console.log("Update",e)})}}onDownload(){const e=new FormData;e.append("filename","ExcelSheet.xlsx"),console.log("formData",e.getAll("filename")),this.userSvc.downloadFile(e).subscribe(t=>{console.log("Donwload",e)})}getPaymentList(){const e={email:this.perfil.userName,month:""};console.log("body de pagos hechos",e),this.userSvc.getPaymentData(e).subscribe(t=>{console.log("Update",e),console.log("res",t),this.perfil.rewards=t,this.totalRewards=this.perfil.rewards.reduce((e,t)=>e+t.Dinero,0)},e=>{console.log("error",e)})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(a.a),n.Lb(c.b),n.Lb(l.a),n.Lb(b.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-perfil"]],decls:5,vars:5,consts:[["class","spaceContent login-form",4,"ngIf"],[4,"ngIf"],[1,"spaceContent","login-form"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"full-width-input"],["formControlName","name","matInput","","placeholder","Nombre","required","",3,"disabled","readonly"],["formControlName","apellidos","matInput","","placeholder","Apellidos","required","",3,"readonly"],["formControlName","telefono","matInput","","placeholder","Tel\xe9fono","required","",3,"readonly"],["formControlName","apellido1","matInput","","placeholder","Primer apellido","required","",3,"readonly"],["formControlName","apellido2","matInput","","placeholder","Segundo apellido","required","",3,"value","readonly"],["formControlName","municipio","matInput","","placeholder","Municipio","required","",3,"readonly"],["formControlName","provincia","matInput","","placeholder","Provincia","required","",3,"readonly"],["formControlName","codigo_postal","matInput","","placeholder","C\xf3digo postal","required","",3,"readonly"],["formControlName","numero_hijos",3,"readonly"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["formControlName","sexo",3,"readonly"],["value","Hombre"],["value","Mujer"],["formControlName","ingresos_mensuales","matInput","","placeholder","Ingresos mensuales","required","",3,"readonly"],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"mat-dialog-close","disabled","click",4,"ngIf"],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"mat-dialog-close","click"],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"mat-dialog-close","disabled","click"],["formControlName","password","matInput","","placeholder","Contrase\xf1a","required",""],["formControlName","newPassword","matInput","","placeholder","Nueva Contrase\xf1a","required",""],["formControlName","userNewPassword","matInput","","placeholder","Confirmar Contrase\xf1a","required",""],[3,"ngSubmit"],[1,"form-group"],["for","userId"],["type","text","id","coments","name","coments","required","",1,"form-control","txt-field",3,"ngModel","ngModelChange"],["for","friendIds"],["type","email","id","friend1","name","friend1","required","",1,"form-control","txt-field",3,"ngModel","ngModelChange"],["type","email","id","friend2","name","friend2",1,"form-control","txt-field",3,"ngModel","ngModelChange"],["type","email","id","friend3","name","friend3",1,"form-control","txt-field",3,"ngModel","ngModelChange"],["type","email","id","friend4","name","friend4",1,"form-control","txt-field",3,"ngModel","ngModelChange"],["type","email","id","friend5","name","friend5",1,"form-control","txt-field",3,"ngModel","ngModelChange"],["type","submit","mat-raised-button","","color","primary",1,"btn","btn-primary",3,"mat-dialog-close"],[1,"rewards-table"],[4,"ngFor","ngForOf"],[1,"total"],["type","file",3,"change"],[3,"click"]],template:function(e,t){1&e&&(n.qc(0,k,7,3,"div",0),n.qc(1,L,6,1,"div",0),n.qc(2,U,20,7,"div",0),n.qc(3,E,22,2,"div",1),n.qc(4,j,6,0,"div",1)),2&e&&(n.fc("ngIf",t.perfil.isPerfil),n.Ab(1),n.fc("ngIf",t.perfil.isChangePass),n.Ab(1),n.fc("ngIf",t.perfil.isInviteFriends),n.Ab(1),n.fc("ngIf",t.perfil.isReward),n.Ab(1),n.fc("ngIf",t.perfil.isPay))},directives:[r.k,d.a,d.b,f.q,f.k,f.f,m.c,f.a,u.a,f.j,f.e,f.o,m.f,g.a,p.j,h.b,c.d,m.b,f.l,f.m,r.j],styles:["label[_ngcontent-%COMP%]{display:block}.spaceContent[_ngcontent-%COMP%]{margin:20px}button[_ngcontent-%COMP%]{margin-right:10px;margin-bottom:5px}.txt-field[_ngcontent-%COMP%]{padding:4px;margin-top:-.0625em;line-height:1.8em;background-color:#e6e6fa;border:0;width:100%;margin-bottom:10px}.rewards-table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{background-color:#2493d4}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;color:#fff}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #673ab7}.total[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:0;font-weight:700}.login-form[_ngcontent-%COMP%]{max-width:450px;text-align:center}.login-form[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-align:left}"]}),e})()},{path:"recovery-password",component:(()=>{class e{constructor(e,t){this.userForm=e,this.userSvc=t,this.dataLoaded=!0}ngOnInit(){this.dataLoaded=!0}checkFieldEmail(e){return this.userForm.isValidRecoveryPassword(e)}sendEmail(){this.userSvc.sendEmailRecoveryPassword(this.userForm.recoveryPasswordForm.value).subscribe(e=>{console.log("delete",e)})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(a.a),n.Lb(l.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-recovery-password"]],decls:16,vars:3,consts:[[1,"login-form"],[3,"formGroup"],[1,"full-width-input"],["formControlName","username","matInput","","placeholder","usuario@email.com","required",""],[4,"ngIf"],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"mat-dialog-close","click"]],template:function(e,t){1&e&&(n.Rb(0,"div",0),n.Rb(1,"mat-card"),n.Rb(2,"mat-card-content"),n.Rb(3,"h1"),n.sc(4,"RECUPERAR CONTRASE\xd1A"),n.Qb(),n.Rb(5,"p"),n.sc(6,"Introduce tu email y te enviaremos las instrucciones para recuperar tu contrase\xf1a"),n.Qb(),n.Rb(7,"form",1),n.Rb(8,"div"),n.Rb(9,"label"),n.sc(10,"Usuario:"),n.Qb(),n.Rb(11,"mat-form-field",2),n.Mb(12,"input",3),n.qc(13,Y,2,1,"mat-error",4),n.Qb(),n.Rb(14,"button",5),n.Yb("click",(function(){return t.sendEmail()})),n.sc(15," Recuperar Contrase\xf1a "),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e&&(n.Ab(7),n.fc("formGroup",t.userForm.recoveryPasswordForm),n.Ab(6),n.fc("ngIf",t.checkFieldEmail("username")),n.Ab(1),n.fc("mat-dialog-close",!0))},directives:[d.a,d.b,f.q,f.k,f.f,m.c,f.a,u.a,f.j,f.e,f.o,r.k,h.b,c.d,m.b],styles:[".login-form[_ngcontent-%COMP%]{max-width:450px;text-align:center}.login-form[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 auto}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-align:left}"]}),e})()},{path:"rewards",component:(()=>{class e{constructor(e){this.userSvc=e}ngOnInit(){this.userSvc.getActUser().subscribe(e=>{console.log("users",e),this.userName=e.username,this.getPaymentList()})}getPaymentList(){const e={email:this.userName,month:""};console.log("body de pagos hechos",e),this.userSvc.getPaymentData(e).subscribe(t=>{console.log("Update",e),console.log("res",t),this.rewards=t,this.totalRewards=this.rewards.reduce((e,t)=>e+t.Dinero,0)},e=>{console.log("error",e)})}}return e.\u0275fac=function(t){return new(t||e)(n.Lb(l.a))},e.\u0275cmp=n.Fb({type:e,selectors:[["app-rewards"]],decls:21,vars:2,consts:[[1,"rewards-table"],[4,"ngFor","ngForOf"],[1,"total"]],template:function(e,t){1&e&&(n.Rb(0,"p"),n.sc(1," Recompensas Recibidas\n"),n.Qb(),n.Rb(2,"table",0),n.Rb(3,"thead"),n.Rb(4,"tr"),n.Rb(5,"th"),n.sc(6,"#"),n.Qb(),n.Rb(7,"th"),n.sc(8,"Fecha de pago"),n.Qb(),n.Rb(9,"th"),n.sc(10,"Nombre Encuesta"),n.Qb(),n.Rb(11,"th"),n.sc(12,"Incentivo pagado"),n.Qb(),n.Qb(),n.Qb(),n.Rb(13,"tbody"),n.qc(14,G,9,4,"tr",1),n.Rb(15,"tr",2),n.Mb(16,"td"),n.Mb(17,"td"),n.Mb(18,"td"),n.Rb(19,"td"),n.sc(20),n.Qb(),n.Qb(),n.Qb(),n.Qb()),2&e&&(n.Ab(14),n.fc("ngForOf",t.rewards),n.Ab(6),n.tc(t.totalRewards))},directives:[r.j],styles:[".rewards-table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{background-color:#2493d4}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;color:#fff}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:center}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #673ab7}.total[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:0;font-weight:700}"]}),e})()}];let J=(()=>{class e{}return e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({factory:function(t){return new(t||e)},imports:[[i.e.forChild(V)],i.e]}),e})();var H=o("vvyD");let X=(()=>{class e{}return e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({factory:function(t){return new(t||e)},imports:[[r.c,J,f.n,f.g,H.a]]}),e})()}}]);