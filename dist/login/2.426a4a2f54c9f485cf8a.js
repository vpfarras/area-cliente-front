(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+iOL":function(e,t,o){"use strict";o.r(t),o.d(t,"RegisterModule",(function(){return ve}));var i=o("ofXK"),s=o("tyNb"),n=o("z6cu"),a=o("PQaN"),r=o("3Pt+"),l=o("JX91"),c=o("lJxs"),u=o("fXoL"),h=o("/9La"),p=o("6Hz5"),m=o("tk/3"),d=o("0IaG"),b=o("Wp6s"),f=o("kmnG"),g=o("qFsG"),v=o("bTqV"),_=o("NFeN");let y=(()=>{class e{constructor(e){this.ngControl=e}onInput(e){let t=e.replace(/[^\d]/g,"");t.length>1&&(t=`${t.slice(0,2)}/${t.slice(2)}`),t.length>4&&(t=`${t.slice(0,5)}/${t.slice(5,9)}`),this.ngControl.control.setValue(t.slice(0,10),{emitEvent:!1})}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(r.i))},e.\u0275dir=u.Gb({type:e,selectors:[["","appAutoFormatDate",""]],hostBindings:function(e,t){1&e&&u.Yb("input",(function(e){return t.onInput(e.target.value)}))}}),e})();var O=o("u47x"),w=o("8LU1"),R=o("FKr1"),F=o("quSY"),C=o("XNiG"),A=o("NXyV"),P=o("VRyK"),S=o("LRne"),Q=o("xgIS"),k=o("rDax"),x=o("vxfF"),L=o("FtGj"),E=o("nLfN"),M=o("+rOU"),I=o("IzEk"),j=o("eIep"),D=o("pLZG"),T=o("vkgz"),q=o("3E0/"),V=o("cH1L");const N=["panel"];function W(e,t){if(1&e&&(u.Rb(0,"div",0,1),u.dc(2),u.Qb()),2&e){const e=u.ac();u.fc("id",e.id)("ngClass",e._classList)}}const Y=["*"];let z=0;class G{constructor(e,t){this.source=e,this.option=t}}class U{}const X=Object(R.t)(U),K=new u.r("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let H=(()=>{class e extends X{constructor(e,t,o){super(),this._changeDetectorRef=e,this._elementRef=t,this._activeOptionChanges=F.a.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new u.o,this.opened=new u.o,this.closed=new u.o,this.optionActivated=new u.o,this._classList={},this.id="mat-autocomplete-"+z++,this._autoActiveFirstOption=!!o.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=Object(w.c)(e)}set classList(e){this._classList=e&&e.length?e.split(" ").reduce((e,t)=>(e[t.trim()]=!0,e),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new O.a(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const t=new G(this,e);this.optionSelected.emit(t)}_setVisibilityClasses(e){e["mat-autocomplete-visible"]=this.showPanel,e["mat-autocomplete-hidden"]=!this.showPanel}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(u.h),u.Lb(u.l),u.Lb(K))},e.\u0275cmp=u.Fb({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(e,t,o){var i;1&e&&(u.Eb(o,R.j,!0),u.Eb(o,R.e,!0)),2&e&&(u.gc(i=u.Zb())&&(t.options=i),u.gc(i=u.Zb())&&(t.optionGroups=i))},viewQuery:function(e,t){var o;1&e&&(u.mc(u.M,!0),u.wc(N,!0)),2&e&&(u.gc(o=u.Zb())&&(t.template=o.first),u.gc(o=u.Zb())&&(t.panel=o.first))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple",displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[u.zb([{provide:R.f,useExisting:e}]),u.xb],ngContentSelectors:Y,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(e,t){1&e&&(u.ec(),u.qc(0,W,3,2,"ng-template"))},directives:[i.i],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e})();const B=new u.r("mat-autocomplete-scroll-strategy"),J={provide:B,deps:[k.c],useFactory:function(e){return()=>e.scrollStrategies.reposition()}},Z={provide:r.h,useExisting:Object(u.U)(()=>$),multi:!0};let $=(()=>{class e{constructor(e,t,o,i,s,n,a,r,l,c){this._element=e,this._overlay=t,this._viewContainerRef=o,this._zone=i,this._changeDetectorRef=s,this._dir=a,this._formField=r,this._document=l,this._viewportRuler=c,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=F.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new C.a,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Object(A.a)(()=>this.autocomplete&&this.autocomplete.options?Object(P.a)(...this.autocomplete.options.map(e=>e.onSelectionChange)):this._zone.onStable.asObservable().pipe(Object(I.a)(1),Object(j.a)(()=>this.optionSelections))),this._scrollStrategy=n}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=Object(w.c)(e)}ngAfterViewInit(){const e=this._getWindow();void 0!==e&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();void 0!==e&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Object(P.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Object(D.a)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Object(D.a)(()=>this._overlayAttached)):Object(S.a)()).pipe(Object(c.a)(e=>e instanceof R.l?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Object(P.a)(Object(Q.a)(this._document,"click"),Object(Q.a)(this._document,"touchend")).pipe(Object(D.a)(e=>{const t=this._isInsideShadowRoot&&e.composedPath?e.composedPath()[0]:e.target,o=this._formField?this._formField._elementRef.nativeElement:null,i=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&t!==this._element.nativeElement&&(!o||!o.contains(t))&&(!i||!i.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)}))}writeValue(e){Promise.resolve(null).then(()=>this._setTriggerValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const t=e.keyCode;if(t===L.e&&e.preventDefault(),this.activeOption&&t===L.d&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,i=t===L.l||t===L.b;this.panelOpen||t===L.k?this.autocomplete._keyManager.onKeydown(e):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==o)&&this._scrollToOption()}}_handleInput(e){let t=e.target,o=t.value;"number"===t.type&&(o=""==o?null:parseFloat(o)),this._previousValue!==o&&(this._previousValue=o,this._onChange(o),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const e=this.autocomplete._keyManager.activeItemIndex||0,t=Object(R.q)(e,this.autocomplete.options,this.autocomplete.optionGroups);if(0===e&&1===t)this.autocomplete._setScrollTop(0);else{const o=Object(R.r)(e+t,48,this.autocomplete._getScrollTop(),256);this.autocomplete._setScrollTop(o)}}_subscribeToClosingActions(){const e=this._zone.onStable.asObservable().pipe(Object(I.a)(1)),t=this.autocomplete.options.changes.pipe(Object(T.a)(()=>this._positionStrategy.reapplyLastPosition()),Object(q.a)(0));return Object(P.a)(e,t).pipe(Object(j.a)(()=>{const e=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),e!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Object(I.a)(1)).subscribe(e=>this._setValueAndClose(e))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(e){const t=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e,o=null!=t?t:"";this._formField?this._formField._control.value=o:this._element.nativeElement.value=o,this._previousValue=o}_setValueAndClose(e){e&&e.source&&(this._clearPreviousSelectedOption(e.source),this._setTriggerValue(e.source.value),this._onChange(e.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(e.source)),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(t=>{t!=e&&t.selected&&t.deselect()})}_attachOverlay(){if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!Object(E.c)(this._element.nativeElement));let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new M.f(this.autocomplete.template,this._viewContainerRef),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe(e=>{(e.keyCode===L.e||e.keyCode===L.l&&e.altKey)&&(this._resetActiveItem(),this._closeKeyEventStream.next(),e.stopPropagation(),e.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const t=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&t!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new k.d({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"}];let i;i="above"===this.position?o:"below"===this.position?t:[...t,...o],e.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){var e;return(null===(e=this._document)||void 0===e?void 0:e.defaultView)||window}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(u.l),u.Lb(k.c),u.Lb(u.Q),u.Lb(u.A),u.Lb(u.h),u.Lb(B),u.Lb(V.b,8),u.Lb(f.a,9),u.Lb(i.d,8),u.Lb(x.e))},e.\u0275dir=u.Gb({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(e,t){1&e&&u.Yb("focusin",(function(){return t._handleFocus()}))("blur",(function(){return t._onTouched()}))("input",(function(e){return t._handleInput(e)}))("keydown",(function(e){return t._handleKeydown(e)})),2&e&&u.Bb("autocomplete",t.autocompleteAttribute)("role",t.autocompleteDisabled?null:"combobox")("aria-autocomplete",t.autocompleteDisabled?null:"list")("aria-activedescendant",t.panelOpen&&t.activeOption?t.activeOption.id:null)("aria-expanded",t.autocompleteDisabled?null:t.panelOpen.toString())("aria-owns",t.autocompleteDisabled||!t.panelOpen||null==t.autocomplete?null:t.autocomplete.id)("aria-haspopup",!t.autocompleteDisabled)},inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},exportAs:["matAutocompleteTrigger"],features:[u.zb([Z]),u.yb]}),e})(),ee=(()=>{class e{}return e.\u0275mod=u.Jb({type:e}),e.\u0275inj=u.Ib({factory:function(t){return new(t||e)},providers:[J],imports:[[R.k,k.f,R.g,i.c],x.b,R.k,R.g]}),e})();var te=o("d3UM");function oe(e,t){if(1&e&&(u.Rb(0,"mat-error"),u.sc(1),u.Qb()),2&e){const e=u.ac(2);u.Ab(1),u.uc(" ",e.loginForm.errorMessage," ")}}function ie(e,t){if(1&e&&(u.Rb(0,"mat-error"),u.sc(1),u.Qb()),2&e){const e=u.ac(2);u.Ab(1),u.uc(" ",e.loginForm.errorMessage," ")}}function se(e,t){if(1&e&&(u.Rb(0,"mat-error"),u.sc(1),u.Qb()),2&e){const e=u.ac(2);u.Ab(1),u.uc(" ",e.userForm.errorMessage," ")}}function ne(e,t){if(1&e&&(u.Rb(0,"mat-error"),u.sc(1),u.Qb()),2&e){const e=u.ac(2);u.Ab(1),u.uc(" ",e.userForm.errorMessage," ")}}function ae(e,t){if(1&e&&(u.Rb(0,"mat-error"),u.sc(1),u.Qb()),2&e){const e=u.ac(2);u.Ab(1),u.uc(" ",e.userForm.errorMessage," ")}}function re(e,t){if(1&e&&(u.Rb(0,"mat-option",22),u.sc(1),u.Qb()),2&e){const e=t.$implicit;u.fc("value",e),u.Ab(1),u.uc(" ",e," ")}}function le(e,t){1&e&&(u.Rb(0,"mat-error"),u.sc(1," Por favor, selecciona un c\xf3digo postal de la lista. "),u.Qb())}function ce(e,t){if(1&e&&(u.Rb(0,"mat-error"),u.sc(1),u.Qb()),2&e){const e=u.ac(2);u.Ab(1),u.uc(" ",e.userForm.errorMessage," ")}}function ue(e,t){if(1&e&&(u.Rb(0,"mat-error"),u.sc(1),u.Qb()),2&e){const e=u.ac(2);u.Ab(1),u.uc(" ",e.loginForm.errorMessage," ")}}function he(e,t){if(1&e){const e=u.Sb();u.Rb(0,"div",1),u.Rb(1,"mat-card"),u.Rb(2,"mat-card-content"),u.Rb(3,"h1"),u.sc(4,"Crea tu usuario"),u.Qb(),u.Rb(5,"p"),u.sc(6,"Reg\xedstrate y disfruta todas las ventajas que te ofrece "),u.Rb(7,"b"),u.sc(8,"M\xe1sM\xe9trica"),u.Qb(),u.Qb(),u.Rb(9,"form",2),u.Yb("ngSubmit",(function(){return u.ic(e),u.ac().onSave()})),u.Rb(10,"div",3),u.Rb(11,"div",4),u.Rb(12,"label"),u.sc(13,"Email"),u.Qb(),u.Rb(14,"mat-form-field",5),u.Mb(15,"input",6),u.qc(16,oe,2,1,"mat-error",7),u.Qb(),u.Qb(),u.Rb(17,"div",4),u.Rb(18,"label"),u.sc(19,"Password"),u.Qb(),u.Rb(20,"mat-form-field",8),u.Mb(21,"input",9),u.Rb(22,"button",10),u.Yb("click",(function(){u.ic(e);const t=u.ac();return t.hide=!t.hide})),u.Rb(23,"mat-icon"),u.sc(24),u.Qb(),u.Qb(),u.qc(25,ie,2,1,"mat-error",7),u.Qb(),u.Qb(),u.Qb(),u.Rb(26,"div",3),u.Rb(27,"div",4),u.Rb(28,"label"),u.sc(29,"Nombre"),u.Qb(),u.Rb(30,"mat-form-field",5),u.Mb(31,"input",11),u.qc(32,se,2,1,"mat-error",7),u.Qb(),u.Qb(),u.Rb(33,"div",4),u.Rb(34,"label"),u.sc(35,"Apellidos"),u.Qb(),u.Rb(36,"mat-form-field",5),u.Mb(37,"input",12),u.qc(38,ne,2,1,"mat-error",7),u.Qb(),u.Qb(),u.Qb(),u.Rb(39,"div",3),u.Rb(40,"div",4),u.Rb(41,"label"),u.sc(42,"Fecha de nacimiento"),u.Qb(),u.Rb(43,"mat-form-field",5),u.Mb(44,"input",13),u.qc(45,ae,2,1,"mat-error",7),u.Qb(),u.Qb(),u.Rb(46,"div",4),u.Rb(47,"label"),u.sc(48,"C\xf3digo postal"),u.Qb(),u.Rb(49,"mat-form-field",5),u.Mb(50,"input",14),u.Rb(51,"mat-autocomplete",null,15),u.qc(53,re,2,2,"mat-option",16),u.bc(54,"async"),u.Qb(),u.qc(55,le,2,0,"mat-error",7),u.Qb(),u.Qb(),u.Qb(),u.Rb(56,"div",3),u.Rb(57,"div",4),u.Rb(58,"label"),u.sc(59,"Sexo"),u.Qb(),u.Rb(60,"mat-form-field",5),u.Rb(61,"mat-label"),u.sc(62,"Sexo "),u.Qb(),u.Rb(63,"mat-select",17),u.Rb(64,"mat-option",18),u.sc(65,"Hombre"),u.Qb(),u.Rb(66,"mat-option",19),u.sc(67,"Mujer"),u.Qb(),u.Qb(),u.qc(68,ce,2,1,"mat-error",7),u.Qb(),u.Qb(),u.Rb(69,"div",4),u.Rb(70,"label"),u.sc(71,"Tel\xe9fono"),u.Qb(),u.Rb(72,"mat-form-field",5),u.Mb(73,"input",20),u.qc(74,ue,2,1,"mat-error",7),u.Qb(),u.Qb(),u.Qb(),u.Rb(75,"button",21),u.sc(76," Registrarme "),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&e){const e=u.hc(52),t=u.ac();u.Ab(9),u.fc("formGroup",t.userForm.baseFormRegister),u.Ab(7),u.fc("ngIf",t.checkField("username")),u.Ab(5),u.fc("type",t.hide?"password":"text"),u.Ab(3),u.tc(t.hide?"visibility_off":"visibility"),u.Ab(1),u.fc("ngIf",t.checkField("password")),u.Ab(7),u.fc("ngIf",t.checkField("name")),u.Ab(6),u.fc("ngIf",t.checkField("apellidos")),u.Ab(7),u.fc("ngIf",t.checkField("fecha_nacimiento")),u.Ab(5),u.fc("formControl",t.miControl)("matAutocomplete",e),u.Ab(3),u.fc("ngForOf",u.cc(54,15,t.opcionesFiltradas)),u.Ab(2),u.fc("ngIf",t.miControl.hasError("valorNoPermitido")),u.Ab(13),u.fc("ngIf",t.checkField("sexo")),u.Ab(6),u.fc("ngIf",t.checkField("username")),u.Ab(1),u.fc("disabled",t.userForm.baseFormRegister.invalid)}}function pe(e,t){1&e&&(u.Rb(0,"div",1),u.Rb(1,"h2"),u.sc(2,"Confirmaci\xf3n"),u.Qb(),u.Rb(3,"p"),u.sc(4,"Hemos enviado un email de confirmaci\xf3n a tu correo electr\xf3nico con las instrucciones necesarias para completar tu proceso de alta. Por favor, sigue las instrucciones y pasar\xe1s a formar parte de nuestros usuarios"),u.Qb(),u.Qb())}function me(e,t){1&e&&(u.Rb(0,"div",1),u.Rb(1,"h2"),u.sc(2,"Error"),u.Qb(),u.Rb(3,"p"),u.sc(4,"Se ha producido un error en el proceso de alta, por favor vuelve a intentarlo pasados unos minutos"),u.Qb(),u.Qb())}var de=function(e){return e.EDIT="edit",e.NEW="new",e}({});const be=[{path:"",component:(()=>{class e{constructor(e,t,o,i,s){this.userForm=e,this.userSvc=t,this.http=o,this.dialog=i,this.router=s,this.actionTODO=de.NEW,this.showPasswordField=!0,this.showForm=!0,this.showErrorMessage=!1,this.showOkMessage=!1,this.hide=!0,this.opciones=["1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1012","1013","1015"]}ngOnInit(){this.miControl=new r.c("",[this.valorPermitidoValidator(this.opciones)]);const e=this.router.parseUrl(this.router.url);console.log("params = ",e.queryParams),this.params=e.queryParams,console.log("params length",this.params.user),this.opcionesFiltradas=this.miControl.valueChanges.pipe(Object(l.a)(""),Object(c.a)(e=>this._filtrar(e)))}valorPermitidoValidator(e){return t=>e.includes(t.value)?null:{valorNoPermitido:{value:t.value}}}_filtrar(e){const t=e.toLowerCase();return this.opciones.filter(e=>e.toLowerCase().includes(t))}onSave(){this.params.user&&this.params.friend&&this.setFormParams();const e=this.userForm.baseFormRegister.value;console.log("formValue",e),this.calculateAge(e.fecha_nacimiento)<14?alert("Debes tener m\xe1s de 14 a\xf1os."):this.userSvc.register(e).subscribe(e=>{console.log("dataaaaaa",e),this.sendEmail()},e=>{console.log("se ha producido un error")})}checkField(e){return this.userForm.isValidRegister(e)}setFormParams(){console.log("setformparams"),this.userForm.baseFormRegister.value.params=this.params}handlerError(e){let t="Error unknown";return e&&(t="Error "+e.message),window.alert(t),Object(n.a)(t)}onOpenModal(){this.dialog.open(a.a,{height:"400px",width:"600px",hasBackdrop:!1,data:{title:"Usuario cread",description:"Para finalizar el proceso de alta consulta tu email y sigue las instrucciones"}}).afterClosed().subscribe(e=>{this.sendEmail(),console.log("Dialog result: "+e,typeof e)})}sendEmail(){this.userSvc.sendEmailConfirmUser(this.userForm.baseFormRegister.value).subscribe(e=>{this.showForm=!1,this.showErrorMessage=!1,this.showOkMessage=!0},e=>{this.showForm=!1,this.showErrorMessage=!0,this.showOkMessage=!1})}calculateAge(e){const[t,o,i]=e.split("/"),s=new Date(+i,+o-1,+t),n=Date.now()-s.getTime(),a=new Date(n);return Math.abs(a.getUTCFullYear()-1970)}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(h.a),u.Lb(p.a),u.Lb(m.b),u.Lb(d.b),u.Lb(s.b))},e.\u0275cmp=u.Fb({type:e,selectors:[["app-register"]],decls:3,vars:3,consts:[["class","login-form",4,"ngIf"],[1,"login-form"],[1,"registration-form",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-column"],[1,"full-width-input"],["text","text","formControlName","username","matInput","","placeholder","Username","required",""],[4,"ngIf"],[1,"full-width-input","separator"],["formControlName","password","matInput","","placeholder","Passworrd","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["formControlName","name","matInput","","placeholder","Nombre","required",""],["formControlName","apellidos","matInput","","placeholder","Apellidos","required",""],["appAutoFormatDate","","formControlName","fecha_nacimiento","matInput","","placeholder","Fecha de nacimiento","required","","id","fecha_nacimiento"],["type","text","placeholder","C\xf3digo postal","matInput","","formControlName","codigo_postal",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formControlName","sexo"],["value","Hombre"],["value","Mujer"],["text","text","formControlName","phone","matInput","","placeholder","Tel\xe9fono","required",""],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(u.qc(0,he,77,17,"div",0),u.qc(1,pe,5,0,"div",0),u.qc(2,me,5,0,"div",0)),2&e&&(u.fc("ngIf",t.showForm),u.Ab(1),u.fc("ngIf",t.showOkMessage),u.Ab(1),u.fc("ngIf",t.showErrorMessage))},directives:[i.k,b.a,b.b,r.q,r.k,r.f,f.c,r.a,g.a,r.j,r.e,r.o,v.b,f.g,_.a,y,$,r.d,H,i.j,f.f,te.a,R.j,f.b],pipes:[i.b],styles:["label[_ngcontent-%COMP%]{display:block}.login-form[_ngcontent-%COMP%]{max-width:450px;margin:0 auto;text-align:center}.login-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;text-align:left}@media (min-width:768px){.login-form[_ngcontent-%COMP%]{max-width:750px}}.registration-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:20px}.registration-form[_ngcontent-%COMP%]   .form-column[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;padding-right:15px;padding-left:15px}@media (min-width:768px){.registration-form[_ngcontent-%COMP%]   .form-column[_ngcontent-%COMP%]{flex:0 0 45%;max-width:45%}}.mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})()},{path:"register-landing/:token",component:(()=>{class e{constructor(e,t,o,i){this.route=e,this.userForm=t,this.userSvc=o,this.router=i,this.dataLoaded=!1,this.title="Crendo usuario",this.firstP="Estamos generando tu usario",this.secondP="",this.friend="",this.user="",this.telefono=null}ngOnInit(){console.log("this.route.params",this.route.queryParams),this.route.queryParams.subscribe(e=>{this.friend=e.friend,this.user=e.user,this.telefono=e.phone}),this.route.params.subscribe(e=>{this.token=e.token,this.dataLoaded=!0,console.log(e),this.sendPhoneCode()}),this.route.queryParams.subscribe(e=>{this.friend=e.friend,this.user=e.user}),console.log("friend user",this.friend+this.user)}sendPhoneCode(){console.log("entra en sendPhoneCode"),this.userForm.tokenForm.value.resetToken=this.telefono;const e=this.userForm.tokenForm.value;console.log("sendPhoneCode formValue = ",e),this.userSvc.sendPhoneCode(e).subscribe(e=>{console.log("sendPhoneCode res",e)})}validateSmsCode(){console.log("entra en sedSMSCode"),this.userForm.validateCodeForm.value.msisdn=this.telefono;const e=this.userForm.validateCodeForm.value;console.log(e),this.userSvc.validatePhoneCode(e).subscribe(e=>{console.log("validatePhoneCode res",e.result.verified),e.result.verified&&this.saveUser()})}saveUser(){this.userForm.tokenForm.value.resetToken=this.token;const e=this.userForm.tokenForm.value;console.log("formValue",e),console.log("userForm",this.userForm),this.userSvc.registerActiveUser(e).subscribe(t=>{this.user&&this.friend?(console.log("hay parametros",this.friend+this.user),this.userSvc.registerInvitation(e).subscribe(e=>{this.setPageContent(),console.log("Update")})):(console.log("no hay parametros"),this.setPageContent(),console.log("Update",t))})}setPageContent(){this.title="Proceso de alta finalizado",this.firstP="\xa1\xa1\xa1Enhorabuena, ya eres uno de los nuestros!!!",this.secondP="Accede con tus credenciales y descubre las posibilidades que te brinda sociol\xf3gica"}goToLogin(){this.router.navigate(["/login"])}}return e.\u0275fac=function(t){return new(t||e)(u.Lb(s.a),u.Lb(h.a),u.Lb(p.a),u.Lb(s.b))},e.\u0275cmp=u.Fb({type:e,selectors:[["app-register-landing"]],decls:17,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"full-width-input"],["text","text","formControlName","pin","matInput","","placeholder","1234","required",""],["type","submit","mat-raised-button","","color","primary"],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"click"]],template:function(e,t){1&e&&(u.Rb(0,"div"),u.Rb(1,"h2"),u.sc(2),u.Qb(),u.Rb(3,"p"),u.sc(4),u.Qb(),u.Rb(5,"p"),u.sc(6),u.Qb(),u.Rb(7,"form",0),u.Yb("ngSubmit",(function(){return t.validateSmsCode()})),u.Rb(8,"div"),u.Rb(9,"label"),u.sc(10,"C\xf3digo"),u.Qb(),u.Rb(11,"mat-form-field",1),u.Mb(12,"input",2),u.Qb(),u.Qb(),u.Rb(13,"button",3),u.sc(14," Enviar c\xf3digo "),u.Qb(),u.Qb(),u.Rb(15,"button",4),u.Yb("click",(function(){return t.goToLogin()})),u.sc(16," Ir a login "),u.Qb(),u.Qb()),2&e&&(u.Ab(2),u.tc(t.title),u.Ab(2),u.tc(t.firstP),u.Ab(2),u.tc(t.secondP),u.Ab(1),u.fc("formGroup",t.userForm.validateCodeForm))},directives:[r.q,r.k,r.f,f.c,r.a,g.a,r.j,r.e,r.o,v.b],styles:[""]}),e})()}];let fe=(()=>{class e{}return e.\u0275mod=u.Jb({type:e}),e.\u0275inj=u.Ib({factory:function(t){return new(t||e)},imports:[[s.e.forChild(be)],s.e]}),e})();var ge=o("vvyD");let ve=(()=>{class e{}return e.\u0275mod=u.Jb({type:e}),e.\u0275inj=u.Ib({factory:function(t){return new(t||e)},imports:[[i.c,fe,ge.a,r.n,ee,g.b]]}),e})()}}]);